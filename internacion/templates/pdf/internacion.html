<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8">
    <title>Informe de Internación</title>

    <style>
        body {
            font-family: Arial;
            margin: 40px;
        }

        h1 {
            text-align: center;
            margin-bottom: 30px;
        }

        .header {
            text-align: center;
            margin-bottom: 20px;
        }

        .section {
            margin-bottom: 20px;
        }

        .obs {
            border-left: 4px solid #2ecc71;
            padding-left: 10px;
            margin-bottom: 10px;
        }

        @media print {
            button {
                display: none;
            }
        }
    </style>
</head>

<body>

    <div class="header">
        <h1>Informe de Internación</h1>
    </div>

    <div class="section">
        <p><strong>Paciente:</strong> {{ internacion.animal.nombre }}</p>
        <p><strong>Ingreso:</strong> {{ internacion.fecha_ingreso }}</p>
        <p><strong>Salida:</strong> {{ internacion.fecha_salida|default:"—" }}</p>
    </div>

    <div class="section">
        <h3>Observaciones</h3>

        {% for obs in internacion.historial_observaciones.all %}
        <div class="obs">
            <p>{{ obs.observacion }}</p>
            <small>
                {{ obs.veterinario_nombre }} {{ obs.veterinario_apellido }} · {{ obs.fecha }}
            </small>
        </div>
        {% empty %}
        <p>No hay observaciones.</p>
        {% endfor %}
    </div>

    <script>
        window.onload = () => {
            window.print();
        };
    </script>

</body>

</html>